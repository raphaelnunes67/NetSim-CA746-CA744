
# NetSim-CA744-CA746
Project developed during the master's course in electrical engineering of the postgraduate program in electrical engineering at UFAM.

## Objectives

Using the [OpenDSS](https://www.epri.com/pages/sa/opendss), [py-dss-interface](https://github.com/PauloRadatz/py_dss_interface), and [OpenDssDirect](https://github.com/dss-extensions/OpenDSSDirect.py) to carry out simulations in CA744 and CA746 networks focusing on the analysis of distributed generation and the demand generated by electric vehicles on the electrical grid.

|                CA744                |                CA746                |
|:-----------------------------------:|:-----------------------------------:|
| ![image info](./docs/img/ca744.png) | ![image info](./docs/img/ca746.png) |

## Running this project

### Linux Instructions

1. Clone the repository and navigate to the project folder:
   ```bash
   git clone <repository_url>
   cd NetworkSim-CA744-CA746
   ```

2. Install dependencies:
   - Ensure you have Python installed.
   - Create a virtual environment:
     ```bash
     python3 -m venv venv
     source venv/bin/activate
     pip install -r requirements.txt
     ```

3. Run the simulation:
   - Use the provided scripts to configure and start the simulation:
     ```bash
     ./run_simulation.sh [CIRCUIT] [EV_LEVEL] [PV_LEVEL] [DB_PATH] [NUM_LOOPS] [SAVE_VOLTAGES_DATA]
     ```
   - Example:
     ```bash
     ./run_simulation.sh ca744 10 30 ../databases 1000 1
     ```

### Windows Instructions

1. Clone the repository and navigate to the project folder:
   ```powershell
   git clone <repository_url>
   cd NetworkSim-CA744-CA746
   ```

2. Install dependencies:
   - Ensure you have Python installed.
   - Create a virtual environment:
     ```powershell
     python -m venv venv
     venv\Scripts\Activate
     pip install -r requirements.txt
     ```

3. Run the simulation:
   - Use the provided PowerShell script to configure and start the simulation:
     ```powershell
     .
un_simulation.ps1 -CIRCUIT "ca744" -EV_LEVEL 10 -PV_LEVEL 30 -DB_PATH "../databases" -NUM_LOOPS 1000 -SAVE_VOLTAGES_DATA 1
     ```

## Managing Processes and Logs

### Viewing Running Processes

#### Linux
- To list running simulations:
  ```bash
  ps aux | grep main.py
  ```

#### Windows
- To list running simulations and get their PIDs:
  ```powershell
  Get-Process | Where-Object { $_.ProcessName -like "*python*" }
  ```

### Stopping a Simulation

#### Linux
- To stop a specific simulation:
  - First, find the process ID (PID):
    ```bash
    ps aux | grep main.py
    ```
  - Then, kill the process:
    ```bash
    kill <PID>
    ```

#### Windows
- To stop a specific simulation:
  - First, find the process ID (PID):
    ```powershell
    Get-Process | Where-Object { $_.ProcessName -like "*python*" }
    ```
  - Then, stop the process using its PID:
    ```powershell
    Stop-Process -Id <PID>
    ```

### Monitoring Disk Usage

#### Linux
- Monitor disk space:
  ```bash
  watch -n 1 df -h /path/to/mount/point
  ```

#### Windows
- Monitor disk space using PowerShell:
  ```powershell
  Get-PSDrive
  ```

### Logs and History

- Simulation logs are stored in files named according to the simulation parameters:
  ```bash
  ../simulation_<CIRCUIT>_ev<EV_LEVEL>_pv<PV_LEVEL>.log
  ```

- Command history is recorded in:
  ```bash
  ../history_commands.txt
  ```

### Starting New Simulations

Ensure no conflicting simulations are running, then start a new one using the appropriate script for your operating system.

## License

This project is licensed under the MIT License.
